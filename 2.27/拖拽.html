<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style>
#div1{
	width:100px;
	height:100px;
	background-color:#FF0004;
	position:absolute;
}
</style>
<script>
	window.onload=function(){
		
			oDiv1=document.getElementById('div1');
			var disX=0;
			var disY=0;
			oDiv1.onmousedown=function(ev){
				
					var oEv=ev||event;
					
					 disX=oEv.clientX-oDiv1.offsetLeft;
					 disY=oEv.clientY-oDiv1.offsetTop;
					 document.onmousemove=function(ev){
						 
						var oEv=ev||event;
						
						var l=oEv.clientX-disX;
						var t=oEv.clientY-disY;
						if(l<0){
							l=0;	
						}else if(l>document.documentElement.clientWidth-oDiv1.offsetWidth){
							
							l=document.documentElement.clientWidth-oDiv1.offsetWidth;
							}
						if(t<0){
							t=0;	
						}else if(t>document.documentElement.clientHeight-oDiv1.offsetHeight){
							t=document.documentElement.clientHeight-oDiv1.offsetHeight;
							
							}
						oDiv1.style.left=l +'px';
						oDiv1.style.top= t+'px';
						 
					 }
					 
					 document.onmouseup=function(){
						 document.onmousemove=null;
						 document.onmouseup=null;
					 };
					 return false;
					
				}
		
		}
</script>
</head>

<body>
	<div id="div1">
    </div>
</body>
</html>
